{"version":3,"file":"default-src_app_Admin_gFooter_gFooter_component_ts-src_app_Guest_disputeDetails_disputedetail-6d810e.js","mappings":"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","sources":["./src/app/Admin/gFooter/gFooter.component.ts","./src/app/Guest/disputeDetails/disputedetails.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-gFooter-web',\r\n    templateUrl: 'gFooter.component.html'\r\n})\r\n\r\nexport class GfooterComponent implements OnInit {\r\n    test: Date = new Date();\r\n    constructor(){}\r\n    ngOnInit(){}\r\n}\r\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { ChatService } from 'src/app/_chat/chat.service';\r\nimport { DataService } from 'src/app/_services/data.services';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n    selector: 'app-gDisputedetails-cmp',\r\n    templateUrl: './disputeDetails.component.html'\r\n})\r\n\r\nexport class DisputeDetailsComponent implements OnInit, OnDestroy {\r\n    user = null;\r\n    details = null;\r\n    sub = null;\r\n    id = null;\r\n    moment: any = moment;\r\n    showAlert = false;\r\n    errorMessage = null;\r\n    userId = null;\r\n    offerMessages = null;\r\n    user_id = null;\r\n    ad_id = null;\r\n    receiver_id = null;\r\n    channel = null;\r\n    publisher_id = null;\r\n\r\n    constructor(private router: Router,\r\n        private routers: ActivatedRoute,\r\n        private cdf: ChangeDetectorRef,\r\n        private _formBuilder: FormBuilder,\r\n        private dataService: DataService,\r\n        private chat: ChatService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (localStorage.getItem(\"token\") != null) {\r\n            this.user = 'exists';\r\n        }\r\n        else {\r\n            this.user = null;\r\n            localStorage.clear();\r\n            this.router.navigate(['/guest/home'])\r\n        }\r\n\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.add('lock-page');\r\n        body.classList.add('off-canvas-sidebar');\r\n        const card = document.getElementsByClassName('card')[0];\r\n\r\n        this.sub = this.routers.params.subscribe(params => {\r\n            this.id = params['id'];\r\n        });\r\n\r\n        const data = {\r\n            id: this.id\r\n        }\r\n\r\n        this.dataService.post('guest/get-dispute-by-id', data).then((result) => {\r\n            this.details = result.data;\r\n\r\n            let customer_id = this.details.booking_details.customer_id;\r\n            this.publisher_id = this.details.offer.user_id\r\n            this.receiver_id = this.details.offer.user_id\r\n            let ad_id = this.details.ad_id\r\n            this.channel = customer_id.toString().concat(this.publisher_id.toString(), ad_id.toString());\r\n            // this.channel = parseInt(this.channel);\r\n            this.chat.joinChannel(this.channel);\r\n\r\n            const chatData = {\r\n                ad_id: ad_id\r\n            }\r\n            this.dataService.post('guest/get-guest-messages', chatData).then((result) => {\r\n                if (!result.data.all_message) {}\r\n                else {\r\n                    this.offerMessages = result.data.all_message\r\n                    this.receiver_id = result.data.ad.user_id;\r\n                    this.ad_id = result.data.ad_id;\r\n                    this.user_id = localStorage.getItem('id')\r\n                    setTimeout(function () { $('#divscroll').scrollTop(20000); }, 6000)\r\n                }\r\n            })\r\n        })\r\n\r\n        this.userId = JSON.parse(localStorage.getItem('id'))\r\n\r\n        this.chat.messages.subscribe(msg => {\r\n            if (msg.message !== null){\r\n                $('#divscroll').append('<div class=\"col-12\"><div class=\"mt-2 mr-5\" style=\"align-self: center; width: 270px; background-color:#dcdcdc; height: auto; padding:10px; border-radius: 12px;\"><p class=\"mb-1\">' + msg.message + '<p><span class=\"float-right\">just now</span></p></div></div>')\r\n            }\r\n            else{\r\n                $('#divscroll').append('<div class=\"col-12\"><div class=\"mt-2 mr-5\" style=\"align-self: center; width: 270px; background-color: #dcdcdc; height: auto; padding:10px; border-radius: 12px;\"><p class=\"mb-1\"><a href=\"http://oneroom3.crosip.com/' + msg.attachment_file + '\"target=\"_blank\">See Attachment</a><p><span class=\"float-right\">just now</span></p></div></div>')\r\n            }\r\n            $('#divscroll').scrollTop(20000);\r\n        })\r\n\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        const body = document.getElementsByTagName('body')[0];\r\n        body.classList.remove('lock-page');\r\n        body.classList.remove('off-canvas-sidebar');\r\n    }\r\n\r\n    copyConfirmationNumber() {\r\n        let tempVal = $('#confirmation_number').text();\r\n        navigator.clipboard.writeText(tempVal).then().catch(e => console.error(e));\r\n    }\r\n\r\n    copyAddress() {\r\n        let tempVal = $('#address').text();\r\n        navigator.clipboard.writeText(tempVal).then().catch(e => console.error(e));\r\n    }\r\n\r\n    withdraw() {\r\n        const data = {\r\n            ad_id: this.details.ad_id,\r\n            booked_offer_id: this.details.booked_offer_id\r\n        }\r\n        this.dataService.post('guest/withdraw-dispute', data).then((result) => {\r\n            if (result.success == true) {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    showConfirmButton: false,\r\n                    timer: 2500\r\n                })\r\n                this.router.navigate(['guestportal/bookinglist']);\r\n            }\r\n        })\r\n    }\r\n\r\n    accept() {\r\n        const data = {\r\n            ad_id: this.details.ad_id,\r\n            booked_offer_id: this.details.booked_offer_id\r\n        }\r\n        this.dataService.post('guest/cancel-booking-cancellation', data).then((result) => {\r\n            if (result.success == true) {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    showConfirmButton: false,\r\n                    timer: 2500\r\n                })\r\n                this.router.navigate(['guestportal/bookinglist']);\r\n            }\r\n        })\r\n    }\r\n\r\n    sendMessage(customer_id, publisher_id, ad_id) {\r\n        if ($('#sender_message').val() == null || $('#sender_message').val() == '') {\r\n            return;\r\n        }\r\n\r\n        let msg = $('#sender_message').val()\r\n\r\n        let data1 = {\r\n            receiver_id: publisher_id,\r\n            ad_id: ad_id,\r\n            message: msg,\r\n            read_status: '0',\r\n            attachment_file: null\r\n        }\r\n\r\n        this.dataService.post('host/send-a-message', data1).then((result) => {\r\n            if (result.success == true) {\r\n                if (result.data.message != null) {\r\n                    $('#divscroll').append('<div class=\"col-12\"><div class=\"mt-2 mr-5 pull-right\" style=\"align-self: center; width: 270px; background-color:#e95228; height: auto; padding:10px; border-radius: 12px;\"><p class=\"mb-1\" style=\"color: white !important;\">' + result.data.message + '<p><span class=\"float-right\" cstyle=\"color: white !important>' + moment(result.data.created_at).format('ddd') + ' | ' + moment(result.data.created_at).format('MMM DD, YYYY') + ' | ' + moment(result.data.created_at).format('hh:mm a') + '</span></p></div></div>')\r\n                }\r\n                $('#divscroll').scrollTop(20000);\r\n                this.dataService.get('host/get-user-data').then((result1) => {\r\n                    this.channel = customer_id.toString().concat(publisher_id.toString(), ad_id.toString());\r\n                    this.channel = parseInt(this.channel);\r\n                    let message = msg;\r\n                    let date = moment().format('hh:mm a')\r\n                    let data = {\r\n                        message: message,\r\n                        channel: this.channel,\r\n                        date: date,\r\n                        senderid: customer_id,\r\n                        receiver_id: publisher_id,\r\n                        pic: '',\r\n                        attachment_file: '',\r\n                        messageId: result.data.id,\r\n                        senderNameFirstChar: result1.data.fname[0]\r\n                    }\r\n                    this.chat.sendMsg(\"channel\", data);\r\n                })\r\n            }\r\n            $('#sender_message').val(null);\r\n            this.cdf.detectChanges();\r\n        })\r\n    }\r\n\r\n    sendMessageAttachment(event: any, customer_id, publisher_id, ad_id) {\r\n\r\n        const file: File = event.target.files[0];\r\n        if (file) {\r\n            const fd = new FormData();\r\n\r\n            fd.append('receiver_id', publisher_id)\r\n            fd.append('ad_id', ad_id)\r\n            fd.append('read_status', '0')\r\n            fd.append('attachment_file', file)\r\n\r\n            this.dataService.post('host/send-a-message', fd).then((result) => {\r\n                if (result.success == true) {\r\n                    if (result.data.attachment_file != null) {\r\n                        $('#divscroll').append('<div class=\"col-12\"><div class=\"mt-2 mr-5 pull-right\" style=\"align-self: center; width: 270px; background-color:#e95228; height: auto; padding:10px; border-radius: 12px;\"><p class=\"mb-1\"><a href=\"http://oneroom3.crosip.com/' + result.data.attachment_file + '\"target=\"_blank\" style=\"color: white !important;\">See Attachment</a><p><span class=\"float-right\" style=\"color: white !important;\">' + moment(result.data.created_at).format('ddd') + ' | ' + moment(result.data.created_at).format('MMM DD, YYYY') + ' | ' + moment(result.data.created_at).format('hh:mm a') + '</span></p></div></div>')\r\n                        $('#divscroll').scrollTop(20000);\r\n                        this.dataService.get('host/get-user-data').then((result1) => {\r\n                            let date = moment().format('hh:mm a')\r\n                            let data = {\r\n                                message: null,\r\n                                channel: this.channel,\r\n                                date: date,\r\n                                senderid: customer_id,\r\n                                receiver_id: publisher_id,\r\n                                pic: result.data.attachment_file,\r\n                                attachment_file: '',\r\n                                messageId: result.data.id,\r\n                                senderNameFirstChar: result1.data.fname[0]\r\n                            }\r\n                            \r\n                            this.chat.sendMsg(\"channel\", data);\r\n                        })\r\n                    }\r\n                }\r\n                $('#sender_message').val(null);\r\n                this.cdf.detectChanges();\r\n            })\r\n        }\r\n    }\r\n}\r\n"],"names":["Component","GfooterComponent","Date","selector","template","ChangeDetectorRef","FormBuilder","ActivatedRoute","Router","moment","ChatService","DataService","Swal","DisputeDetailsComponent","router","routers","cdf","_formBuilder","dataService","chat","localStorage","getItem","user","clear","navigate","body","document","getElementsByTagName","classList","add","card","getElementsByClassName","sub","params","subscribe","id","data","post","then","result","details","customer_id","booking_details","publisher_id","offer","user_id","receiver_id","ad_id","channel","toString","concat","joinChannel","chatData","all_message","offerMessages","ad","setTimeout","$","scrollTop","userId","JSON","parse","messages","msg","message","append","attachment_file","remove","tempVal","text","navigator","clipboard","writeText","catch","console","error","e","booked_offer_id","success","fire","position","icon","title","showConfirmButton","timer","val","data1","read_status","created_at","format","get","result1","parseInt","date","senderid","pic","messageId","senderNameFirstChar","fname","sendMsg","detectChanges","event","file","target","files","fd","FormData"],"sourceRoot":"webpack:///"}